(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{272:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"tip custom-block"},[a("p",[t._v("其实前面写了一些东西, 但还是删了, 直接撸代码.\n这篇是从 git clone 项目开始, 从搭建环境到部属的过程, 希望对想学习的朋友有帮助.")]),t._v(" "),a("p",[t._v("这是第一篇, 会有系列解析文档放出.")])]),t._v(" "),a("h2",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件","aria-hidden":"true"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),a("p",[t._v("群里面有一篇 "),a("code",[t._v("zheng-环境搭建及系统部署文档20170213(三版).docx")]),t._v(", 里面详细讲解了各个依赖软件的安装和配置,\n所以这里不会再讲依赖的搭建过程.\n假设你已经将所有的依赖环境搭建完毕.")]),t._v(" "),a("h2",{attrs:{id:"我的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#我的环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 我的环境")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("版本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("系统")]),t._v(" "),a("td",[t._v("MacOS 10.12.6")])]),t._v(" "),a("tr",[a("td",[t._v("IDE")]),t._v(" "),a("td",[t._v("Intellij IDEA 2017.2.3")])]),t._v(" "),a("tr",[a("td",[t._v("JDK")]),t._v(" "),a("td",[t._v("1.8")])]),t._v(" "),a("tr",[a("td",[t._v("Maven")]),t._v(" "),a("td",[t._v("3.3.9")])]),t._v(" "),a("tr",[a("td",[t._v("Dubbo")]),t._v(" "),a("td",[t._v("2.5.3")])]),t._v(" "),a("tr",[a("td",[t._v("Zookeepe")]),t._v(" "),a("td",[t._v("3.4.10")])]),t._v(" "),a("tr",[a("td",[t._v("Nginx")]),t._v(" "),a("td",[t._v("1.12.1")])]),t._v(" "),a("tr",[a("td",[t._v("ActiveMQ")]),t._v(" "),a("td",[t._v("5.15.0")])]),t._v(" "),a("tr",[a("td",[t._v("MySQL")]),t._v(" "),a("td",[t._v("5.7.16")])]),t._v(" "),a("tr",[a("td",[t._v("Redis")]),t._v(" "),a("td",[t._v("3.2.3")])]),t._v(" "),a("tr",[a("td",[t._v("Dubbo-admin")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Dubbo-monitor")]),t._v(" "),a("td")])])]),t._v(" "),a("h3",{attrs:{id:"用到的工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用到的工具","aria-hidden":"true"}},[t._v("#")]),t._v(" 用到的工具")]),t._v(" "),a("ol",[a("li",[t._v("IDEA")]),t._v(" "),a("li",[t._v("LICEcap --\x3e gif 制作")]),t._v(" "),a("li",[t._v("MWeb --\x3e Markdown 编辑器")]),t._v(" "),a("li",[t._v("iTerm --\x3e 替代 Terminal 的工具")])]),t._v(" "),a("h2",{attrs:{id:"环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境搭建")]),t._v(" "),a("p",[t._v("我记得去年还是前年, 用 Intellij IDEA 的人已经超过了 Eclipse, 如果你还在用 Eclipse, 我想安利你马上转到 IDEA 来, 不是一般的好用, 我已经安利了不下 50 人 使用 IDEA 了.")]),t._v(" "),a("p",[t._v("之后的系列文章, 会穿插一些 IDEA 的教程, 在实践中学习, 效果杠杠的.")]),t._v(" "),a("p",[t._v("这里强烈推荐一个专门写 IDEA 的教程, 希望能帮助你一些")]),t._v(" "),a("p",[t._v("https://github.com/judasn/IntelliJ-IDEA-Tutorial.git")]),t._v(" "),a("p",[t._v("不要怕不会用, 等你学会了以后, 效率是别人的几倍")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-15047038259917.jpg",alt:""}})]),t._v(" "),a("p",[t._v("clone 项目, 使用 Intellji IDEA 导入这些就不说了")]),t._v(" "),a("p",[t._v("这步完成的样子是这样的")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-06%209.09.13.png",alt:"屏幕快照 2017-09-06 9.09.13"}})]),t._v(" "),a("p",[t._v("项目结构和命名看着非常舒服")]),t._v(" "),a("h3",{attrs:{id:"导入-sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入-sql","aria-hidden":"true"}},[t._v("#")]),t._v(" 导入 SQL")]),t._v(" "),a("p",[t._v("找到 "),a("code",[t._v("project-datamodel --\x3e zheng.sql")]),t._v(" , 双击打开")]),t._v(" "),a("p",[t._v("如果是第一次打开这个项目, 你肯定会看到这个")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-15047039208288.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"设置数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置数据库","aria-hidden":"true"}},[t._v("#")]),t._v(" 设置数据库")]),t._v(" "),a("p",[t._v("设置之前你得使用命令或者 navicat 创建一个叫 "),a("code",[t._v("zheng")]),t._v(" 的数据库")]),t._v(" "),a("h5",{attrs:{id:"问题1-1067-invalid-default-value-for-last-login-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题1-1067-invalid-default-value-for-last-login-time","aria-hidden":"true"}},[t._v("#")]),t._v(" 问题1: [1067] Invalid default value for 'last_login_time'")]),t._v(" "),a("p",[t._v("导入 SQL 报错")]),t._v(" "),a("p",[t._v("首先复习下 MySQl 中 datetime, timestamp, date 的区别.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("日期类型")]),t._v(" "),a("th",[t._v("存储空间")]),t._v(" "),a("th",[t._v("日志格式")]),t._v(" "),a("th",[t._v("日期范围")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("datetime")]),t._v(" "),a("td",[t._v("8 bytes")]),t._v(" "),a("td",[t._v("YYYY-MM-DD HH:MM:SS")]),t._v(" "),a("td",[t._v("1000-01-01 00:00:00 ~ 9999-12-31 23:59:59")])]),t._v(" "),a("tr",[a("td",[t._v("timestamp")]),t._v(" "),a("td",[t._v("4 bytes")]),t._v(" "),a("td",[t._v("YYYY-MM-DD HH:MM:SS")]),t._v(" "),a("td",[t._v("1970-01-01 00:00:01 ~ 2037-12-31 23:59:59")])]),t._v(" "),a("tr",[a("td",[t._v("date")]),t._v(" "),a("td",[t._v("3 bytes")]),t._v(" "),a("td",[t._v("YYYY-MM-DD")]),t._v(" "),a("td",[t._v("1000-01-01 ~ 9999-12-31")])])])]),t._v(" "),a("p",[t._v("这里用 "),a("code",[t._v("timestamp")])]),t._v(" "),a("ol",[a("li",[t._v("占用空间小")]),t._v(" "),a("li",[t._v("在进行 "),a("code",[t._v("insert")]),t._v(", "),a("code",[t._v("update")]),t._v(" 数据时，"),a("code",[t._v("timestamp")]),t._v(" 列会自动以当前时间（CURRENT_TIMESTAMP）填充/更新.")])]),t._v(" "),a("p",[t._v("但是到 2038-00-00 00:00:00 时, 系统就崩溃了, 想想就刺激, 😂")]),t._v(" "),a("p",[a("strong",[t._v("然而并不是这个问题")])]),t._v(" "),a("p",[t._v("这种报错多半是你 MySQl 升级到 5.7 而引起的默认值不兼容的问题.\n想到可能是类型的默认值被限制了，查看 sql_mode.")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" variables "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sql_mode'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[t._v("sql_mode\tSTRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")])]),t._v(" "),a("p",[t._v("果然 NO_ZERO_IN_DATE, NO_ZERO_DATE 这两个参数限制时间不能为0")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 临时解决")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),t._v(" sql_mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 永久方案\n# 直接修改my.cnf文件\n\n在[mysqld]下面添加如下列：\n\nsql_mode=STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-15047081644118.png",alt:""}})]),t._v(" "),a("p",[t._v("风骚的操作, 完美的表名 😁")]),t._v(" "),a("h3",{attrs:{id:"修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 修改配置文件")]),t._v(" "),a("p",[t._v("密码值使用了 AES 加密，使用 "),a("code",[t._v("com.zheng.common.util.AESUtil")]),t._v(" 工具类修改这些值")]),t._v(" "),a("p",[t._v("这么多文件怎么找?")]),t._v(" "),a("p",[t._v("IDEA 的强大之处"),a("strong",[t._v("之一")]),t._v("就在于它强大的搜索功能. 第一次打开项目时, IDEA 会花点时间创建所有除了 "),a("code",[t._v("Exclued Folders")]),t._v(" 的文件的索引.")]),t._v(" "),a("p",[t._v("不管这些, 直接使用 "),a("code",[t._v("双击 shift")]),t._v(" 来全局查找.")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-2.gif",alt:"2"}})]),t._v(" "),a("p",[t._v("胡悠我, 打开的全是占位符的配置文件, 还要去找主配置才行, 然后一个一个的改? you are so young so simple")]),t._v(" "),a("p",[t._v("全局替换, 秒秒钟的事")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-3.gif",alt:"3"}})]),t._v(" "),a("p",[t._v("其他的照着来")]),t._v(" "),a("h3",{attrs:{id:"启动依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动依赖","aria-hidden":"true"}},[t._v("#")]),t._v(" 启动依赖")]),t._v(" "),a("p",[t._v("我启动这些依赖贼简单, 不信你看")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-06%2011.36.55.png",alt:"屏幕快照 2017-09-06 11.36.55"}})]),t._v(" "),a("p",[t._v("start, start, start ....")]),t._v(" "),a("p",[t._v("我记得以前用 windows 的时候, 启动这些依赖很恼火, 一个一个启动, 后来写了个批处理, 一建启动, 在虚拟机上, 懒的开了.....")]),t._v(" "),a("h4",{attrs:{id:"配置-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-nginx","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置 nginx")]),t._v(" "),a("p",[t._v("这里先说一个 windows 的坑")]),t._v(" "),a("p",[t._v("nginx.conf 配置文件默认编码是 utf-8, 在 windows 上使用记事本打开 utf-8 编码的文件, 它会在文件前面加上一个 "),a("code",[t._v("BOM")]),t._v(" 😂, 不知道你们有没有踩过这个坑....")]),t._v(" "),a("p",[t._v("也是这个坑, 又踩了一次.")]),t._v(" "),a("p",[t._v("是项目上一个 Excel 导出的问题")]),t._v(" "),a("p",[t._v("poi 导出大量数据, 内存溢出, 所以到数据量很大时, 就用导出文本文件的方式")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据存放的位置")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/xxx/Develop/test.xls"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成文件")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedWriter")]),t._v(" buff "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedWriter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileWriter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//插入标题 代表3列")]),t._v("\n    buff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"部门名称\\t用户\\t电话"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 换行")]),t._v("\n    buff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//插入5万条记录")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"中文测试"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        buff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\tzheng\\t1234567890"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        buff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    buff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v("如果 windows 的用户使用 Excel 打开就会是乱码, 原因就是上面说到的")]),t._v(" "),a("p",[t._v("改为:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@Test\npublic void test() throws IOException {\n    // 数据存放的位置\n    String path="/Users/codeai/Develop/test.xls";\n    // 生成文件\n    BufferedWriter buff = new BufferedWriter(new FileWriter(path));\n    // 在文件开始加一个  U+FEFF\n    buff.write(new String(new byte[] {(byte) 0xEF, (byte) 0xBB, (byte) 0xBF}));\n    //插入标题 代表3列\n    buff.write("部门名称,用户,电话");\n    // 换行\n    buff.write("\\r\\n");\n    //插入5万条记录\n    String s = "中文测试";\n    for (int i = 0; i < 50000; i++) {\n        buff.write(s +  ",zheng,1234567890");\n        buff.write("\\r\\n");\n    }\n    buff.close();\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("为巨硬感到委屈, 明明是它先，什么都是它先的，VC6 也好，BOM 也罢... 为什么不按照它的来了, 搞得它现在想改都不行了.... 😂")]),t._v(" "),a("p",[a("strong",[t._v("所以在 windows 下, 不要用 记事本, 用 sublime text 或者 vscode.")])]),t._v(" "),a("p",[t._v("扯远了............. 😅")]),t._v(" "),a("p",[t._v("2个 server 配置, 没有看到 zheng-config 模块, 所有这里只配置一个反向代理")]),t._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#user  nobody;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_processes")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("events")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_connections")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),t._v("       mime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default_type")]),t._v("  application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("octet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sendfile")]),t._v("        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("keepalive_timeout")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9526")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("codeai"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Develop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("codes"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("zheng"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("zheng"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("zheng"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cms"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" Access"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Allow")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Origin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("h3",{attrs:{id:"启动服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动服务","aria-hidden":"true"}},[t._v("#")]),t._v(" 启动服务")]),t._v(" "),a("p",[t._v("启动之前 先 "),a("code",[t._v("install")]),t._v(" 一下")]),t._v(" "),a("ol",[a("li",[t._v("zheng-upms-rpc-service")]),t._v(" "),a("li",[t._v("zheng-cms-rpc-service")]),t._v(" "),a("li",[t._v("zheng-upms-server")]),t._v(" "),a("li",[t._v("zheng-cms-admin")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-07%2012.54.21.png",alt:"屏幕快照 2017-09-07 12.54.21"}}),t._v(" "),a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-07%2012.57.25.png",alt:"屏幕快照 2017-09-07 12.57.25"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-07%2012.57.33.png",alt:"屏幕快照 2017-09-07 12.57.33"}})]),t._v(" "),a("h2",{attrs:{id:"项目部属"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目部属","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目部属")]),t._v(" "),a("p",[t._v("😂")]),t._v(" "),a("p",[t._v("太晚了, 后天要早去去大理拍婚纱照, 留着后面写\n只是照着项目的 readme.md 把环境搭好了,能成功运行了, 里面的代码还没看")]),t._v(" "),a("p",[t._v("像这些环境依赖, 大家可以使用 Vagrant 来搭建, 以后换电脑或者给别的同事搭建环境, 丢一个文件给他就 ok 了.\n或者使用 docker, 说得我好像会一样.... 😂, 还没开始看呢 哈哈, 以后大家一起学习")]),t._v(" "),a("p",[a("strong",[t._v("感谢 zheng 哥给我们开源这么好的学习框架")])]),t._v(" "),a("p",[t._v("如果我没叫错的话, 应该叫 zheng 哥吧...")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-15047175726527.png",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-03-15047176152833.png",alt:""}})]),t._v(" "),a("p",[t._v("为什么 0 不代表女? 这样好记啊")]),t._v(" "),a("p",[t._v("向 Facebook 学习, 增加 56 种性别, 那才好玩  😂😂😂")])])},[],!1,null,null,null);s.default=e.exports}}]);