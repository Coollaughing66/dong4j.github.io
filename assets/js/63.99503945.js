(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{318:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("div",{staticClass:"tip custom-block"},[s("p",[a._v("åŸºäº Zookeeper å®ç°çš„ä¸€ä¸ªé…ç½®ä¸­å¿ƒ")])]),a._v(" "),s("h2",{attrs:{id:"ç°åœ¨æ¶æ„å­˜åœ¨çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç°åœ¨æ¶æ„å­˜åœ¨çš„é—®é¢˜","aria-hidden":"true"}},[a._v("#")]),a._v(" ç°åœ¨æ¶æ„å­˜åœ¨çš„é—®é¢˜")]),a._v(" "),s("ol",[s("li",[a._v("é…ç½®åˆ†æ•£\næ¯”å¦‚ä¿®æ”¹æ—¥å¿—é…ç½®éœ€è¦ä¿®æ”¹ fkh-api, fkh-webgis, ..., fkh-server.")]),a._v(" "),s("li",[a._v("åªæœ‰ dev, test, pro\næœ¬åœ°å¼€å‘æ—¶éœ€è¦ä¿®æ”¹ dubbo.server.version, æäº¤æ—¶å¿˜è®°æ”¹å›æ¥é€ æˆæœåŠ¡è°ƒç”¨å‡ºé”™.")]),a._v(" "),s("li",[a._v("é…ç½®ç±»å¤ªå¤š, ä¸”æœ‰é‡å¤çš„é…ç½®ç±», ä¸å¥½ç®¡ç†")]),a._v(" "),s("li",[a._v("éå¼€å‘ç¯å¢ƒä¸‹åº”ç”¨é…ç½®åœ¨ war åŒ…ä¸­, å…³é”®é…ç½®æ˜æ–‡æ˜¾ç¤º")]),a._v(" "),s("li",[a._v("ä¿®æ”¹é…ç½®å, éœ€è¦é‡æ–°æ‰“åŒ…éƒ¨ç½²")]),a._v(" "),s("li",[a._v("å…³é”®é…ç½®éšæ—¶å¯ä¿®æ”¹, ä¸€ä¸å°å¿ƒå°±ä¼šé€ æˆç”Ÿäº§äº‹æ•…")])]),a._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[s("strong",[a._v("ä¸ºäº†ç»Ÿä¸€ç®¡ç†é…ç½®")]),a._v(".\nç°å°†é…ç½®ä» pom ä¸­è¿å…¥åˆ° fkh-common-config, ä½¿ç”¨ maven filter å®ç°æ ¹æ®ä¸åŒç¯å¢ƒä» "),s("code",[a._v("${env}.fkhwl.properties")]),a._v(" è·å–é…ç½®æ›¿æ¢ "),s("code",[a._v("application.properties")]),a._v(" é…ç½®(@å ä½ç¬¦æ›¿æ¢)\nä½¿ç”¨ "),s("code",[a._v("<context:property-placeholder/>")]),a._v(" é…åˆ "),s("code",[a._v('@Value("${}")')]),a._v(" å®ç°è‡ªåŠ¨æ³¨å…¥é…ç½®åˆ°é…ç½®ç±».\næ–°å¢ local ç¯å¢ƒç”¨äºæœ¬åœ°å¼€å‘")])]),a._v(" "),s("p",[a._v("ä½†æ˜¯ä»ç„¶è§£å†³ä¸äº†æ•æ„Ÿé…ç½®çš„å®‰å…¨, é…ç½®ä¸èƒ½ç»Ÿä¸€ç®¡ç†ç­‰é—®é¢˜.")]),a._v(" "),s("h2",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ","aria-hidden":"true"}},[a._v("#")]),a._v(" è§£å†³æ–¹æ¡ˆ")]),a._v(" "),s("p",[a._v("ä½¿ç”¨é…ç½®ä¸­å¿ƒ, ç»Ÿä¸€ç®¡ç†é…ç½®, å°†æ•æ„Ÿé…ç½®éš”ç¦»å‡ºæ¥.")]),a._v(" "),s("p",[a._v("å€ŸåŠ© ZooKeeperæˆ‘ä»¬å®ç°çš„é…ç½®ä¿¡æ¯å­˜å‚¨æ–¹æ¡ˆå…·æœ‰çš„ä¼˜ç‚¹å¦‚ä¸‹:")]),a._v(" "),s("ol",[s("li",[a._v("ç®€å•. å°½ç®¡å‰æœŸæ­å»ºZooKeeperæœåŠ¡å™¨é›†ç¾¤è¾ƒä¸ºéº»çƒ¦,ä½†æ˜¯å®ç°è¯¥æ–¹æ¡ˆå,ä¿®æ”¹é…ç½®æ•´ä¸ªè¿‡ç¨‹å˜å¾—ç®€å•å¾ˆå¤š. ç”¨æˆ·åªè¦ä¿®æ”¹é…ç½®,æ— éœ€è¿›è¡Œå…¶ä»–ä»»ä½•æ“ä½œ,é…ç½®è‡ªåŠ¨ç”Ÿæ•ˆ.")]),a._v(" "),s("li",[a._v("å¯é . ZooKeeperæœåŠ¡é›†ç¾¤å…·æœ‰æ— å•ç‚¹å¤±æ•ˆçš„ç‰¹æ€§,ä½¿æ•´ä¸ªç³»ç»Ÿæ›´åŠ å¯é . å³ä½¿ZooKeeper é›†ç¾¤ä¸­çš„ä¸€å°æœºå™¨å¤±æ•ˆ,ä¹Ÿä¸ä¼šå½±å“æ•´ä½“æœåŠ¡,æ›´ä¸ä¼šå½±å“åˆ†å¸ƒå¼åº”ç”¨é…ç½®ä¿¡æ¯çš„æ›´æ–°.")]),a._v(" "),s("li",[a._v("å®æ—¶. ZooKeeperçš„æ•°æ®æ›´æ–°é€šçŸ¥æœºåˆ¶,å¯ä»¥åœ¨æ•°æ®å‘ç”Ÿå˜åŒ–å,ç«‹å³é€šçŸ¥ç»™åˆ†å¸ƒå¼åº”ç”¨ç¨‹åº,å…·æœ‰å¾ˆå¼ºçš„å˜åŒ–å“åº”èƒ½åŠ›.")])]),a._v(" "),s("p",[s("strong",[a._v("èƒ½è§£å†³çš„é—®é¢˜")])]),a._v(" "),s("ul",[s("li",[a._v("ä¿è¯ä¸åŒéƒ¨ç½²ç¯å¢ƒä¸‹åº”ç”¨é…ç½®çš„"),s("strong",[a._v("éš”ç¦»æ€§")])]),a._v(" "),s("li",[a._v("ä¿è¯éå¼€å‘ç¯å¢ƒä¸‹åº”ç”¨é…ç½®çš„"),s("strong",[a._v("ä¿å¯†æ€§")])]),a._v(" "),s("li",[a._v("ä¿è¯ä¸åŒéƒ¨ç½²èŠ‚ç‚¹ä¸ŠåŒä¸€åº”ç”¨é…ç½®çš„"),s("strong",[a._v("ä¸€è‡´æ€§")])]),a._v(" "),s("li",[a._v("å®ç°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹åº”ç”¨é…ç½®çš„"),s("strong",[a._v("å¯ç®¡ç†æ€§")])])]),a._v(" "),s("h2",{attrs:{id:"é…ç½®åˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®åˆ†ç±»","aria-hidden":"true"}},[a._v("#")]),a._v(" é…ç½®åˆ†ç±»")]),a._v(" "),s("h3",{attrs:{id:"ç°æœ‰é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç°æœ‰é…ç½®","aria-hidden":"true"}},[a._v("#")]),a._v(" ç°æœ‰é…ç½®")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# ç¯å¢ƒå˜é‡\nenv\n# api æµ‹è¯•ä½¿ç”¨\nignore.auth.flag\n# æ—¥å¿—é…ç½®\n#  JDBC\n# å›¾ç‰‡ä¸Šä¼ é…ç½®\n# SSDB\n# kafkaé…ç½®ä¿¡æ¯\n# activemqé…ç½®ä¿¡æ¯\n# dubboé…ç½®\n# å…‘å§\n...\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br")])]),s("p",[s("strong",[a._v("æ¥æº")])]),a._v(" "),s("ol",[s("li",[a._v("æœ¬åœ°é…ç½®æ–‡ä»¶")]),a._v(" "),s("li",[a._v("æ•°æ®åº“")]),a._v(" "),s("li",[a._v("Redis")]),a._v(" "),s("li",[a._v("Zookeeper")])]),a._v(" "),s("p",[s("strong",[a._v("è¯»å†™é¢‘ç‡")])]),a._v(" "),s("ol",[s("li",[a._v("å•æ¬¡è¯»å–å‹\n"),s("ol",[s("li",[a._v("dubbo.service.version")]),a._v(" "),s("li",[a._v("Logback")])])]),a._v(" "),s("li",[a._v("å¤šæ¬¡è¯»å–å‹(æœ¬åœ°å¼€å‘æ—¶åŠ¨æ€åˆ‡æ¢ç¯å¢ƒ)\n"),s("ol",[s("li",[a._v("MongoDB")]),a._v(" "),s("li",[a._v("Kafka")]),a._v(" "),s("li",[a._v("Zookeeper")]),a._v(" "),s("li",[a._v("JDBC")]),a._v(" "),s("li",[a._v("Redis")]),a._v(" "),s("li",[a._v("SSDB")])])]),a._v(" "),s("li",[a._v("åŠ¨æ€è¯»å–å‹\n"),s("ol",[s("li",[s("strong",[a._v("å­—å…¸æ•°æ®")])]),a._v(" "),s("li",[a._v("waybill.upload")]),a._v(" "),s("li",[a._v("ä¿é™©")]),a._v(" "),s("li",[a._v("æ”¯ä»˜")]),a._v(" "),s("li",[a._v("ä¼æŸ¥æŸ¥")]),a._v(" "),s("li",[a._v("å£°ç½‘")]),a._v(" "),s("li",[a._v("ä¸Šä¼ åœ°å€")]),a._v(" "),s("li",[a._v("å®šä½ã€è¯è´¹ã€ç¤¼å“å…‘æ¢å¼€å…³é…ç½®")]),a._v(" "),s("li",[a._v("å•†åŠ¡ç«¯æ¨é€é…ç½®")]),a._v(" "),s("li",[a._v("å…‘å§é…ç½®")]),a._v(" "),s("li",[a._v("ä¸ªæ¨")]),a._v(" "),s("li",[a._v("ä¸­äº¤é…ç½®")]),a._v(" "),s("li",[a._v("å®¹è”äº‘é…ç½®")])])])]),a._v(" "),s("h2",{attrs:{id:"æ€»ä½“è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ä½“è®¾è®¡","aria-hidden":"true"}},[a._v("#")]),a._v(" æ€»ä½“è®¾è®¡")]),a._v(" "),s("h3",{attrs:{id:"ç³»ç»Ÿæ¶æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿæ¶æ„","aria-hidden":"true"}},[a._v("#")]),a._v(" ç³»ç»Ÿæ¶æ„")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-02-5F39EFAE-DB2F-40C0-B049-AC3A91D2B662.png",alt:"5F39EFAE-DB2F-40C0-B049-AC3A91D2B662"}})]),a._v(" "),s("h3",{attrs:{id:"åŸºç¡€æ¨¡å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€æ¨¡å‹","aria-hidden":"true"}},[a._v("#")]),a._v(" åŸºç¡€æ¨¡å‹")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-02-5788CAAC-DABA-4FD8-B744-7BD223BDEC05.png",alt:"5788CAAC-DABA-4FD8-B744-7BD223BDEC05"}})]),a._v(" "),s("ul",[s("li",[a._v("ç”¨æˆ·é€šè¿‡é…ç½®ä¸­å¿ƒä¿®æ”¹ zk èŠ‚ç‚¹é…ç½®")]),a._v(" "),s("li",[a._v("client ç›‘å¬åˆ°èŠ‚ç‚¹æ•°æ®è¢«ä¿®æ”¹, è·å– spring å®¹å™¨é…ç½®ç±», åŠ¨æ€ä¿®æ”¹é…ç½®")])]),a._v(" "),s("h3",{attrs:{id:"åºåˆ—å›¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åºåˆ—å›¾","aria-hidden":"true"}},[a._v("#")]),a._v(" åºåˆ—å›¾")]),a._v(" "),s("h4",{attrs:{id:"config-center"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-center","aria-hidden":"true"}},[a._v("#")]),a._v(" Config center")]),a._v(" "),s("p",[a._v("åŠŸèƒ½:")]),a._v(" "),s("ol",[s("li",[a._v("ç»Ÿä¸€ç®¡ç†é…ç½®")]),a._v(" "),s("li",[a._v("ä¿®æ”¹æ—¥å¿—çº§åˆ«")]),a._v(" "),s("li",[a._v("ä¿®æ”¹æ—¥å¿—é‡‡é›†ç‡")]),a._v(" "),s("li",[a._v("æŸ¥çœ‹åº”ç”¨çŠ¶æ€(æ˜¯å¦åœ¨çº¿, ä¸Šæ¬¡éƒ¨ç½²æ—¶é—´ç­‰)")])]),a._v(" "),s("p",[a._v("åæœŸè€ƒè™‘å¢åŠ çš„åŠŸèƒ½")]),a._v(" "),s("ol",[s("li",[a._v("åº”ç”¨ä¸‹çº¿é‚®ä»¶(çŸ­ä¿¡/å¾®ä¿¡)æç¤º")]),a._v(" "),s("li",[a._v("kafka æ“ä½œ, æŸ¥çœ‹ä¿¡æ¯")]),a._v(" "),s("li",[a._v("dubbo æœåŠ¡æ³¨å†Œä¿¡æ¯")])]),a._v(" "),s("p",[s("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-02-6C0DABE9-7360-4712-87A0-5FF088BEC295.png",alt:"6C0DABE9-7360-4712-87A0-5FF088BE"}})]),a._v(" "),s("h4",{attrs:{id:"client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client","aria-hidden":"true"}},[a._v("#")]),a._v(" Client")]),a._v(" "),s("p",[a._v("å¯åŠ¨æ—¶è¯»å–é…ç½®, è¿è¡Œæ—¶æ ¹æ®é…ç½®è°ƒæ•´è¡Œä¸º")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-02-2B1B0B88-EDDD-4D31-B3FF-D400E711DC13.png",alt:"2B1B0B88-EDDD-4D31-B3FF-D400E711D"}})]),a._v(" "),s("h3",{attrs:{id:"zookeeper-é…ç½®èŠ‚ç‚¹è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-é…ç½®èŠ‚ç‚¹è®¾è®¡","aria-hidden":"true"}},[a._v("#")]),a._v(" Zookeeper é…ç½®èŠ‚ç‚¹è®¾è®¡")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://qiniu.dong4j.info/2019-07-02-DBDF288B-770D-46D5-AA92-160893C683A5.png",alt:"DBDF288B-770D-46D5-AA92-160893C683A5"}})]),a._v(" "),s("p",[s("strong",[a._v("åªæœ‰ local ç¯å¢ƒæ‰æœ‰äººå‘˜èŠ‚ç‚¹")])]),a._v(" "),s("p",[a._v("åªæœ‰ local æ˜¯æœ¬åœ°å¼€å‘é…ç½®, å› ä¸ºå¼€å‘éœ€è¦,æœ‰æ—¶ä¼šåˆ‡æ¢ä¸åŒé…ç½®, å› æ­¤å°†é…ç½®åˆ†é…åˆ°å…·ä½“å¼€å‘è€…èº«ä¸Š, è¿™æ ·ä¿®æ”¹ä¸€ä¸ªé…ç½®æ—¶, åªä¼šå¯¹æŸä¸ªå¼€å‘è€…ç”Ÿæ•ˆ, ä¸å½±å“å…¶ä»–äºº")]),a._v(" "),s("p",[s("strong",[a._v("èŠ‚ç‚¹ä¸èƒ½å…±ç”¨")])]),a._v(" "),s("p",[a._v("æ„æ€æ˜¯ä¸èƒ½æŠ½å–å‡ºå…¬å…±çš„é…ç½®, å› ä¸ºä¿®æ”¹äº†å…¬å…±é…ç½®, ç›‘å¬æ­¤èŠ‚ç‚¹çš„ client éƒ½ä¼šä¿®æ”¹é…ç½®.")]),a._v(" "),s("h2",{attrs:{id:"æ¨¡å—è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—è¯´æ˜","aria-hidden":"true"}},[a._v("#")]),a._v(" æ¨¡å—è¯´æ˜")]),a._v(" "),s("h3",{attrs:{id:"client-ç«¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-ç«¯","aria-hidden":"true"}},[a._v("#")]),a._v(" Client ç«¯")]),a._v(" "),s("p",[a._v("Client ç«¯æš‚æ—¶æ”¾åœ¨ trace æ¨¡å—ä¸­, æ–¹ä¾¿å¼€å‘æµ‹è¯•")]),a._v(" "),s("h3",{attrs:{id:"é…ç½®ä¸­å¿ƒ-admin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ä¸­å¿ƒ-admin","aria-hidden":"true"}},[a._v("#")]),a._v(" é…ç½®ä¸­å¿ƒ admin")]),a._v(" "),s("div",{staticClass:"language-lua line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-lua"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\nâ”œâ”€â”€ common"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("parent                       "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" æ‰€æœ‰æ¨¡å—çš„çˆ¶æ¨¡å—"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" è´Ÿè´£ç‰ˆæœ¬ä¸ä¾èµ–æ§åˆ¶\nâ”œâ”€â”€ common"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("utils                        "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" å…¬å…±å·¥å…·ç±»\nâ”œâ”€â”€ fkh"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("api"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("manager                     "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" æœªæ¥è¦åšçš„ api ç®¡ç†ç³»ç»Ÿ\nâ”‚   â””â”€â”€ api"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("manager"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rest                "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" api ç®¡ç†ç³»ç»Ÿçš„ rest æ¥å£\nâ”œâ”€â”€ fkh"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("server                   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" é…ç½®ä¸­å¿ƒçˆ¶æ¨¡å—\nâ”‚   â”œâ”€â”€ fkh"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("admin                "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" é…ç½®ä¸­å¿ƒå‰ç«¯\nâ”‚   â””â”€â”€ fkh"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rest                 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" é…ç½®ä¸­å¿ƒ rest æ¥å£\nâ””â”€â”€ spring"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("boot"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("starter"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("curator         "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v(" å°è£…çš„ curator spring boot start\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("h2",{attrs:{id:"æŠ€æœ¯é€‰å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯é€‰å‹","aria-hidden":"true"}},[a._v("#")]),a._v(" æŠ€æœ¯é€‰å‹")]),a._v(" "),s("p",[s("strong",[a._v("Curator(é¦†é•¿, ç®¡ç†å‘˜)")])]),a._v(" "),s("p",[a._v("æ›¿ä»£ Zkclient çš„å¦ä¸€ä¸ªç®€å•å¼ºå¤§çš„ Zookeeper å®¢æˆ·ç«¯, (Curator)é¦†é•¿ä¸(Zookeeper)åŠ¨ç‰©å›­, å¤©ç”Ÿä¸€å¯¹ ğŸ¤£ğŸ¤£")]),a._v(" "),s("p",[a._v("CuratoråŒ…å«äº†å‡ ä¸ªåŒ…:")]),a._v(" "),s("ul",[s("li",[a._v("curator-framework: å¯¹zookeeperçš„åº•å±‚apiçš„ä¸€äº›å°è£…")]),a._v(" "),s("li",[a._v("curator-client: æä¾›ä¸€äº›å®¢æˆ·ç«¯çš„æ“ä½œ, ä¾‹å¦‚é‡è¯•ç­–ç•¥ç­‰")]),a._v(" "),s("li",[a._v("curator-recipes: å°è£…äº†ä¸€äº›é«˜çº§ç‰¹æ€§, å¦‚: Cacheäº‹ä»¶ç›‘å¬ã€é€‰ä¸¾ã€åˆ†å¸ƒå¼é”ã€åˆ†å¸ƒå¼è®¡æ•°å™¨ã€åˆ†å¸ƒå¼Barrierç­‰")])]),a._v(" "),s("p",[s("strong",[a._v("Spring Boot")])]),a._v(" "),s("p",[a._v("ç”¨äºå¼€å‘é…ç½®ä¸­å¿ƒçš„ Web ç«¯æ¡†æ¶, å®ç°å¿«é€Ÿå¼€å‘, ç®€å•éƒ¨ç½².")]),a._v(" "),s("h3",{attrs:{id:"fkh-å¼€å‘é…ç½®ç®¡ç†è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fkh-å¼€å‘é…ç½®ç®¡ç†è§£å†³æ–¹æ¡ˆ","aria-hidden":"true"}},[a._v("#")]),a._v(" Fkh å¼€å‘é…ç½®ç®¡ç†è§£å†³æ–¹æ¡ˆ")]),a._v(" "),s("ol",[s("li",[a._v("clone ä»£ç åˆ°æœ¬åœ°(git å¹¶æ²¡æœ‰ç®¡ç† fkh-common-config ä¸­çš„ application.yml)")]),a._v(" "),s("li",[a._v("maven profile é€‰æ‹© "),s("strong",[a._v("local(é»˜è®¤)")])]),a._v(" "),s("li",[a._v("æ‰§è¡Œ fkh-common-config çš„ "),s("strong",[a._v("pullConfig()")]),a._v(" æ–¹æ³•, ç”¨äºæ‹‰å–é…ç½®")]),a._v(" "),s("li",[a._v("å®Œæˆåä¼šåœ¨ resource ç›®å½•ä¸‹ç”Ÿæˆ application.yml æ–‡ä»¶, ç”¨äºç¼–è¯‘æ—¶æ›¿æ¢å ä½ç¬¦("),s("strong",[a._v("è¿™é‡Œæ˜¯è€ƒè™‘ä½¿ç”¨ @Beanæ³¨å…¥ jdbc, redis, kafka, mongodb ç­‰å¯¹è±¡, ä½†æ˜¯ dubbo å’Œ logback æ³¨å…¥æœ‰é—®é¢˜, ä»¥åä¼šä¼˜åŒ–è¿™é‡Œ")]),a._v(")")])]),a._v(" "),s("div",{staticClass:"language-properties line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("local")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# zookeeper é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("zookeeper")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("        connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("            list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.2.8:2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# dubbo é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dubbo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("        service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("            version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("5.2.8")]),a._v("\n...\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("å…¶ä»–é…ç½®è¿™ä¼šæ ¹æ® maven profile ,å¯åŠ¨ app æ—¶åŠ¨æ€æ³¨å…¥.\næœ¬åœ°å¼€å‘æ—¶, ä»¥æœ¬åœ°é…ç½®ä¼˜å…ˆ, æ²¡æœ‰é…ç½®çš„åˆ™è¯»å– zk é…ç½®.")]),a._v(" "),s("p",[a._v("å¦‚æœä» local åˆ‡æ¢åˆ° test ç¯å¢ƒ, éœ€è¦å†æ¬¡è¿è¡Œ "),s("strong",[a._v("pullConfig() "),s("strong",[a._v(", åªæœ‰ä»¥ä¸‹é…ç½®")]),a._v("ä¸ä¼š")]),a._v("è¢«æ›¿æ¢")]),a._v(" "),s("div",{staticClass:"language-properties line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# zookeeper é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("zookeeper")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.2.8:2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# dubbo é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dubbo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("5.2.8")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# æ—¥å¿—é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("logback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    level")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("DEBUG")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    root")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("      level")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("ERROR")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  appender")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    one")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("STDOUT")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    two")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  logstash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("    ip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.2.121:8801")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("  path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/Users/codeai/Develop/logs/fkh/mnt/syslogs/tomcat")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ä¸Šä¼ é…ç½®")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("uploadPath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/data/devuploads/")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br")])]),s("p",[a._v("è¿™æ ·å¯ä»¥é¿å…åˆ‡æ¢ç¯å¢ƒåè¿˜è¦æ‰‹åŠ¨ä¿®æ”¹é…ç½®")]),a._v(" "),s("h3",{attrs:{id:"å¼€å‘æ—¶åˆ‡æ¢é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘æ—¶åˆ‡æ¢é…ç½®","aria-hidden":"true"}},[a._v("#")]),a._v(" å¼€å‘æ—¶åˆ‡æ¢é…ç½®")]),a._v(" "),s("p",[a._v("å¯èƒ½æœ‰è¿™æ ·çš„éœ€æ±‚, æˆ‘ä»¬å¼€å§‹åœ¨ local ç¯å¢ƒå¼€å‘, test ç¯å¢ƒæœ‰å‡ºç° bug, ä¸ºäº†å¤ç° bug, æˆ‘ä»¬å¯èƒ½ä¼šåˆ‡æ¢åˆ° test ç¯å¢ƒ.")]),a._v(" "),s("p",[a._v("è¿™ä¸ªçš„è§£å†³æ–¹æ¡ˆ:")]),a._v(" "),s("p",[a._v("æˆ‘ä»¬ä¸éœ€è¦é‡å¯åº”ç”¨, ç›´æ¥åœ¨ Web ç«¯åˆ‡æ¢è¿™ä¸ªå¼€å‘è€…çš„é…ç½®å³å¯.")]),a._v(" "),s("p",[a._v("åŸç†:")]),a._v(" "),s("p",[a._v("åˆ‡æ¢åŠŸèƒ½åªä¼šå°† test çš„é…ç½®æ›¿æ¢åˆ°å½“å‰å¼€å‘è€…èŠ‚ç‚¹ä¸‹çš„ local é…ç½®, ç„¶åè‡ªåŠ¨è°ƒç”¨ zk ç›‘å¬æœºåˆ¶, åŠ¨æ€ä¿®æ”¹é…ç½®å³å¯.")]),a._v(" "),s("h3",{attrs:{id:"dev-test-prod-ç¯å¢ƒéƒ¨ç½²è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dev-test-prod-ç¯å¢ƒéƒ¨ç½²è§£å†³æ–¹æ¡ˆ","aria-hidden":"true"}},[a._v("#")]),a._v(" Dev Test Prod ç¯å¢ƒéƒ¨ç½²è§£å†³æ–¹æ¡ˆ")]),a._v(" "),s("p",[a._v("å½“éœ€è¦éƒ¨ç½²åˆ°é local ç¯å¢ƒçš„æœåŠ¡å™¨æ—¶, éœ€è¦æ‰§è¡Œ fkh-common-config ä¸­çš„ "),s("strong",[a._v("pullDeployConfig()")]),a._v(" æ–¹æ³•")]),a._v(" "),s("p",[s("strong",[a._v("pullConfig()")]),a._v(" ä¸ "),s("strong",[a._v("pullDeployConfig()")]),a._v(" çš„åŒºåˆ«:")]),a._v(" "),s("p",[a._v("å› å¼€å‘éœ€è¦åˆ‡æ¢ç¯å¢ƒæ—¶, è°ƒç”¨ "),s("strong",[a._v("pullConfig()")]),a._v(" åä¸ä¼šè¦†ç›– application.yml ä¸­è‡ªå®šä¹‰é…ç½®.")]),a._v(" "),s("p",[a._v("å› ä¸ºéƒ¨ç½²æ—¶, å¹¶ä¸éœ€è¦æœ¬åœ°è‡ªå®šä¹‰é…ç½®, å› æ­¤ "),s("strong",[a._v("pullDeployConfig()")]),a._v(" ä¼šå°†åŸæ¥çš„ application.yml é‡å‘½åä¸º application.yml.local(ä¸ä¼šè¢«æ‰“åŒ…åˆ° war ä¸­), ç„¶åæ‹‰å–é…ç½®ç”Ÿæˆ application.yml")]),a._v(" "),s("h3",{attrs:{id:"ç¬¬ä¸‰æ–¹å…¬å¸é…ç½®è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸‰æ–¹å…¬å¸é…ç½®è§£å†³æ–¹æ¡ˆ","aria-hidden":"true"}},[a._v("#")]),a._v(" ç¬¬ä¸‰æ–¹å…¬å¸é…ç½®è§£å†³æ–¹æ¡ˆ")]),a._v(" "),s("p",[a._v("ç¬¬ä¸‰æ–¹å…¬å¸é…ç½®ç”±è¿”ç©ºæ±‡ç»Ÿä¸€ç®¡ç†, åªéœ€è¦åœ¨ configs èŠ‚ç‚¹ä¸‹å¢åŠ ä¸€ä¸ªå­èŠ‚ç‚¹, æ¯”å¦‚ chengtong, ç„¶åå†æ·»åŠ é…ç½®èŠ‚ç‚¹")]),a._v(" "),s("p",[a._v("æ‰“åŒ…æ—¶, åˆ‡æ¢åˆ° chengtong åˆ†æ”¯, maven é€‰æ‹© chengtong profile, å¦‚æœéœ€è¦ä¸ªæ€§åŒ–é…ç½®, åœ¨æœ¬åœ°æ–°å»º application.yml é…ç½®å³å¯, é»˜è®¤ä¼šä»¥æœ¬åœ°ä¼˜å…ˆ(åªé’ˆå¯¹ç¬¬ä¸‰æ–¹å…¬å¸)")]),a._v(" "),s("p",[a._v("å¦‚æœæ˜¯ fkh å…¬å¸, ä»¥ dev,test,prod ç¯å¢ƒæ‰“åŒ…æ—¶, åˆ™ä¼šå¿½ç•¥æœ¬åœ°é…ç½®æ–‡ä»¶.")]),a._v(" "),s("p",[a._v("åŸå› æ˜¯å¼€å‘æ—¶æ‹‰å–é…ç½®,ä¸ªæ€§åŒ–é…ç½®å(ä¿®æ”¹ dubbo service version, ä¿®æ”¹æ—¥å¿—è¾“å‡ºç­‰), ä¸å°å¿ƒæäº¤äº†æœ¬åœ°é…ç½®, æ‰“åŒ…æ—¶ä¸å½±å“, ä¾ç„¶æ˜¯ä»¥ zk é…ç½®ä¸ºä¸».")]),a._v(" "),s("h2",{attrs:{id:"todo-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo-list","aria-hidden":"true"}},[a._v("#")]),a._v(" Todo list")]),a._v(" "),s("ol",[s("li",[a._v("è¿ç§»é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶åŠç±»åˆ° "),s("code",[a._v("fkh-common-config")]),a._v(" ä¸­\n"),s("ol",[s("li",[a._v('ä½¿ç”¨@Value("${...}") æ›¿æ¢ xml çš„ bean é…ç½®')])])]),a._v(" "),s("li",[a._v("æ•´ç† fkh-common-config ä¸­çš„é…ç½®æ˜ å°„åˆ°zkçš„èŠ‚ç‚¹")]),a._v(" "),s("li",[a._v("å®ç°ä¸€é”®åˆ›å»ºzkèŠ‚ç‚¹\n"),s("ol",[s("li",[a._v("shell å‘½ä»¤æˆ–è€… Go å®ç°")])])]),a._v(" "),s("li",[a._v("ä»æ•°æ®æºï¼ˆzkã€mysqlã€redisï¼‰è¯»å–é…ç½®ä¿¡æ¯å†™å…¥properties\n"),s("ol",[s("li",[a._v("å®ç° pullConfig() æ–¹æ³•\n2. åˆå¹¶æœ¬åœ°é…ç½®, åˆ‡æ¢ç¯å¢ƒæ—¶, å“ªäº›é…ç½®ä¸éœ€è¦è¦†ç›–")]),a._v(" "),s("li",[a._v("å®ç° pullDeployConfig() æ–¹æ³•\n"),s("ol",[s("li",[a._v("æ–‡ä»¶é‡å‘½å")]),a._v(" "),s("li",[a._v("é‡æ–°ç”Ÿæˆ properties .yml")])])])])]),a._v(" "),s("li",[a._v("mvnæ‰“åŒ…å‰, è¯»å–é…ç½®æ›¿æ¢ xml ä¸­çš„å ä½ç¬¦ï¼ˆdubboã€logstashï¼‰\n"),s("ol",[s("li",[a._v("åˆ é™¤å¤šä½™ç¯å¢ƒé…ç½®,åªä¿ç•™ application.yml")]),a._v(" "),s("li",[a._v("ä¿®æ”¹ maven çš„ profiles")]),a._v(" "),s("li",[a._v("ä¿®æ”¹ maven çš„ build filter")])])]),a._v(" "),s("li",[a._v("ä» Java å¯¹è±¡ä¸­æ˜ å°„åˆ° Env ç¯å¢ƒé…ç½®ç±»ä¸­\n"),s("ol",[s("li",[a._v("å¯åŠ¨æ—¶è¯»å– zk(mysql, redis) é…ç½®(ä¸åŒ…æ‹¬ jdbc, redis, logback..)")]),a._v(" "),s("li",[a._v("åœ¨å®ä¾‹åŒ– bean ä¹‹å‰,å°†é…ç½®åŠ¨æ€æ³¨å…¥åˆ° Spring Environment å¯¹è±¡ä¸­")]),a._v(" "),s("li",[a._v("å¯åŠ¨å®Œæˆåæ·»åŠ  listener, ç›‘å¬é…ç½®å˜åŒ–")]),a._v(" "),s("li",[a._v("å®ç° callback, åŠ¨æ€ä¿®æ”¹é…ç½®")])])])])])},[],!1,null,null,null);t.default=e.exports}}]);